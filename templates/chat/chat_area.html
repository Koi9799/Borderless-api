<div class="flex flex-col h-full">
    <!-- Chat Header -->
    <div class="flex items-center p-4 border-b border-gray-300 bg-white">
        <img src="{{ current_chat_user.avatar.url }}" alt="User Avatar" class="w-12 h-12 rounded-full mr-4">
        <div>
            <h2 class="text-xl font-semibold text-gray-800">{{ current_chat_user.username }}</h2>
            <p class="text-sm text-gray-600">Active now</p>
        </div>
    </div>

    <!-- Chat Messages -->
    <div id="chat-messages" class="flex-1 overflow-y-auto p-6 space-y-6">
        {% for message in messages %}
        <div class="flex {% if message.username == request.user.username %}justify-end{% endif %}">
            <div class="max-w-xl mx-2 p-4 rounded-lg {% if message.username == request.user.username %}bg-blue-500 text-white{% else %}bg-gray-200 text-gray-800{% endif %}">
                <p class="text-base">{{ message.content }}</p>
                <span class="text-xs text-gray-500 mt-2 block">{{ message.date_added|date:"H:i" }}</span>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Message Input -->
    <div class="p-4 border-t border-gray-300 bg-white">
        <form id="chat-form" class="flex items-center">
            <input id="chat-input" type="text" placeholder="Type a message..." class="flex-1 p-3 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <button id="send-button" type="submit" class="ml-4 p-3 bg-blue-500 text-white rounded-full hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg>
            </button>
        </form>
    </div>
</div>